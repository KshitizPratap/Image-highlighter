{"version":3,"sources":["Components/Card.js","Components/Canvas/Canvas.js","App.js","reportWebVitals.js","index.js","App.module.css","Components/Canvas/Canvas.module.css","Components/Card.module.css"],"names":["Card","props","className","isNaN","w","classes","NoDiplay","Container","x","y","Math","abs","h","Canvas","canvasRef","useRef","contextRef","useState","isDrawing","setIsDrawing","startCoordinate","setStartCoordinate","endCoordinate","setEndCoordinate","coordinateArray","setCoordinateArray","useEffect","canvas","current","width","window","innerWidth","height","innerHeight","style","context","getContext","scale","lineCap","strokeStyle","lineWidth","fillStyle","url","coordinateCard","map","coordinate","key","CanvasContainer","onMouseDown","nativeEvent","offsetX","offsetY","beginPath","moveTo","onMouseUp","closePath","state","onMouseMove","clearRect","fillRect","stroke","onMouseLeave","ref","CardContainer","App","imageRef","inputRef","seturl","show","setShow","position","display","type","onChange","event","target","files","console","log","URL","createObjectURL","Button","onClick","click","NoDisplay","src","onLoad","Detail","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.9bee7ea9.chunk.js","sourcesContent":["import React from \"react\";\r\nimport classes from './Card.module.css';\r\n\r\nfunction Card(props) {\r\n    return(\r\n        <div className = {isNaN(props.w) ? classes.NoDiplay : classes.Container}>\r\n            <p>\r\n                x : {props.x} px <br/>\r\n                y : {props.y} px <br/>\r\n                Width : {Math.abs(props.w)} px <br/>\r\n                Height : {Math.abs(props.h)} px <br/>\r\n            </p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Card;","import React, { useEffect, useRef, useState } from \"react\";\r\nimport classes from './Canvas.module.css'\r\nimport Card from '../Card'\r\n\r\nfunction Canvas(props) {\r\n  const canvasRef = useRef(null);\r\n  const contextRef = useRef(null);\r\n\r\n  const [isDrawing, setIsDrawing] = useState(false);\r\n  const [startCoordinate, setStartCoordinate] = useState([]);\r\n  const [endCoordinate, setEndCoordinate] = useState([]);\r\n  const [coordinateArray, setCoordinateArray] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    \r\n    canvas.width = 0.5*window.innerWidth*3;\r\n    canvas.height = 0.9*window.innerHeight*3;\r\n    canvas.style.width = `${0.5*window.innerWidth}px`;\r\n    canvas.style.height = `${0.9*window.innerHeight}px`;\r\n\r\n    const context = canvas.getContext('2d')\r\n    context.scale(3, 3);\r\n    context.lineCap = \"round\";\r\n    context.strokeStyle = \"white\";\r\n    context.lineWidth = 3;\r\n    context.fillStyle = \"#3cff0052\"\r\n\r\n    contextRef.current = context;\r\n\r\n    setCoordinateArray([]);\r\n}, [props.url])\r\n\r\n  const startDrawing = ({nativeEvent}) => {\r\n    const {offsetX, offsetY} = nativeEvent\r\n\r\n    setStartCoordinate([offsetX, offsetY])\r\n    setEndCoordinate([offsetX, offsetY])\r\n\r\n    contextRef.current.beginPath();\r\n    contextRef.current.moveTo(offsetX, offsetY);\r\n\r\n    setIsDrawing(true);\r\n  }\r\n\r\n  const draw = ({nativeEvent}) => {\r\n    if(!isDrawing){\r\n      return;\r\n    }\r\n\r\n    const {offsetX, offsetY} = nativeEvent;\r\n\r\n    setEndCoordinate([offsetX, offsetY])\r\n\r\n    // console.log(\"[Start Coordinate] : x = \" + startCoordinate[0] + \", y = \" + startCoordinate[1])\r\n    // console.log(\"[End Coordinate] : x = \" + endCoordinate[0] + \", y = \" + endCoordinate[1])\r\n\r\n    const x = startCoordinate[0];\r\n    const y = startCoordinate[1];\r\n    const w = (endCoordinate[0] - startCoordinate[0])\r\n    const h = (endCoordinate[1] - startCoordinate[1]);\r\n    \r\n    contextRef.current.clearRect(0, 0, 1000, 1000);\r\n    // contextRef.current.stroke();\r\n\r\n    coordinateArray.map(coordinate => {\r\n        return contextRef.current.fillRect(coordinate[0], coordinate[1], coordinate[2], coordinate[3]);\r\n    })\r\n\r\n    contextRef.current.fillRect(x, y, w, h);\r\n    contextRef.current.stroke();\r\n  }\r\n\r\n  const finishDrawing = () => {    \r\n    contextRef.current.closePath()\r\n    setIsDrawing(false);\r\n\r\n    const x = startCoordinate[0];\r\n    const y = startCoordinate[1];\r\n    const w = (endCoordinate[0] - startCoordinate[0])\r\n    const h = (endCoordinate[1] - startCoordinate[1]);\r\n\r\n    setCoordinateArray(state => [...state, [x, y, w, h]]) \r\n  }\r\n\r\n  const stopDrawing = () => {\r\n    setIsDrawing(false);\r\n  }\r\n\r\n  let coordinateCard = coordinateArray.map((coordinate, key) => {\r\n      return (\r\n          <Card \r\n            x = {coordinate[0]}\r\n            y = {coordinate[1]}\r\n            w = {coordinate[2]}\r\n            h = {coordinate[3]}\r\n            key = {key}/>\r\n      )\r\n  })\r\n\r\n  return(\r\n        <div className = {classes.Container}>\r\n            <canvas\r\n                className = {classes.CanvasContainer}\r\n                onMouseDown = {startDrawing}\r\n                onMouseUp = {finishDrawing}\r\n                onMouseMove = {draw}\r\n                onMouseLeave = {stopDrawing}\r\n                ref = {canvasRef}/> \r\n                \r\n                <div className = {classes.CardContainer}>{coordinateCard}</div>\r\n                \r\n        </div>\r\n  )\r\n}\r\n\r\nexport default Canvas;\r\n","import React, { useRef, useState } from \"react\";\nimport classes from './App.module.css'\nimport Canvas from './Components/Canvas/Canvas'\n\nfunction App() {\n  const imageRef = useRef(null);\n  const inputRef = useRef(null);\n\n  const [url, seturl] = useState(null);\n  const [show, setShow] = useState(false);\n\n  const fileHandler = (event) => {\n    if(event.target.files[0] !== url){\n      console.log(\"[event.target] \" + event.target);\n      console.log(url)\n      seturl(URL.createObjectURL(event.target.files[0]));\n    }\n  }\n\n  const imageLoaderHandler = () => {\n    setShow(true);\n  }\n\n  const fileSelector = () => {\n    inputRef.current.click();\n  }\n\n  return(\n    <div style = {{position : \"relative\"}}>\n      <input \n        style = {{display : \"none\"}}\n        type = \"file\" onChange = {fileHandler} \n        ref = {inputRef}/>\n\n      <button className = {classes.Button}onClick = {() => fileSelector()}>Pick image</button>\n      <br />\n\n      <div className = {show ? classes.Container : classes.NoDisplay}>\n        <img src = {url}\n          ref = {imageRef}\n          onLoad = {imageLoaderHandler}/>\n\n        <Canvas url = {url}/>\n      </div> \n      <p className={show ? classes.Detail : classes.NoDisplay}>Details of selections :</p>\n    </div>\n  )\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"App_Container__3oTvE\",\"NoDisplay\":\"App_NoDisplay__3797l\",\"Detail\":\"App_Detail__38g8D\",\"Button\":\"App_Button__ZyQUc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Canvas_Container__oDB8h\",\"CanvasContainer\":\"Canvas_CanvasContainer__36Mtb\",\"CardContainer\":\"Canvas_CardContainer__GlMBp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Card_Container__2XesV\",\"NoDiplay\":\"Card_NoDiplay__2Pof3\"};"],"sourceRoot":""}